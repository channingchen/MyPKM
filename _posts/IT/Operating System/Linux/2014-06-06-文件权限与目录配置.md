# Linux的文件权限与目录配置

1. 使用者与群组

	1. 文件拥有者：对文件的所有权	

	2. 群组：群组中有若干使用者，群组让使用者有共同的权限，使用者同时又有各自的权限	

	3. 其他人：相对于拥有者和群组之外

1. Linux文件权限

	1. 文件属性：drwxrwxrwx，d为文件类型

		* 第一个字符
			* d： 目录
			* -： 文件
			* l： 链接文件
			* b： 块设备
			* c： 字符设备
		* 后三组字符
			* r： 可读
			* w： 可写
			* x： 可执行 
	
	1. 改变文件属性与权限
		1.  改变群组、拥有者

			`chgrp [-R] dirname/filename ...`
			`chown [-R] username[:groupname] dirname/filename`

			-R： 递归所有子目录

		1. 改变权限
		
			`chmod [-R] xyz dirname/filename`

				r=4,w=2,x=1. e.g. xyz=777.

			`chmod u/g/o/a +/-/= r[w[x]] dir/file`

				chmod u=rwx,go=rx .bashrc
				chmod a+x .bashrc

	1. 权限的意义
		
		1. 权限对文件的意义 
		
			* r：读取文件内容的
			* w：可以编辑、新增或修改文件内容（ **但不包含删除的文件本身**）
			* x：该文件可被系统执行
		
		1. 权限对于目录的意义
		
			* r：读取目录结构，查询目录下文件名数据
			* w：异动该目录结构列表，包括：
				* 建立新文件
				* 删除已存在文件（ **和文件权限无关** ）
				* 对文件或目录重命名
				* 移动文件或目录的位置
			* x：表示用户能否进入该目录成为工作目录

1. Linux文件种类与扩展名

	1. 文件种类
	
		* 普通文件：纯文本文档（ASCII）、二进制文件（binary）、数据格式文件（data）
		* 目录：[d]
		* 链接文件：[l]
		* 设备与装置文件：[b/c]
		* 套接字文件：[s]
		* 管道文件：[p]

	2. 扩展名：linux下扩展名只为告诉用户这个文件的*可能*用途

	3. 文件名限制

		* 单一文件名/目录长度最大255
		* 完整路径最大4096
		* 避免的文件名字符：* ? > < ; % [ ] | \ ' " ` ( ) { }

1. Linux目录配置
	1. FHS：/、/usr、/var
	
	1. /
		* 根目录中有系统启动、修复等程序，FHS建议根目录越小越好，且占用**独立的分区**
		* /bin：系统放置执行文件的目录
		* /boot：系统防止启动会使用的文件
		* /dev：装置和接口
		* /etc：系统主要的配置文件
		* /home：系统默认的用户家目录
		* /lib：系统函数库
		* /media：可移除的设备
		* /mnt：暂时挂载使用
		* /opt：第三方软件
		* /root：root的家目录，与根目录防止在同一分区
		* /sbin：开机过程中需要的，包括开机、修复、还原使用的指令
		* /srv：网络服务所需要取用的数据目录
		* /tmp：临时目录，暂存目录
		* /lost+found：文件系统发生错误时，遗失片段存放的目录，每个分区都有
		* /proc：虚拟文件系统，整个系统在内存之中，不占用硬盘空间
		* /sys：与/proc类似，主要记录与核心相关内容
	
	1. /usr
		* Unix Software Resource
		* /usr/bin：绝大部分用户可使用的指令
		* /usr/include：C、C++的头文件
		* /usr/lib：各应用软件的函数库、目标文件
		* /usr/local：本机自行下载的软件（非distribution默认提供者）
		* /usr/sbin：非系统正常运行所需要的系统指令
		* /usr/share：防止共享文件的地方
		* /usr/src：源代码

	1. /var
		* /var/chace：应用程序的缓存
		* /var/lib：程序执行过程中需要使用的数据文件存放目录
		* /var/lock：为装置或资源上锁
		* /var/log：日志
		* /var/mail：个人电子邮件
		* /var/run：
		* /var/spoon：防止队列数据

1. 目录树

	* 目录树起点为根目录
	* 每个目录不止能使用本地分区的文件系统，也可以使用网络上的文件系统
	* 每个文件在此目录树中的文件名都独一无二
	* 绝对路径：由/开始写起的文件名或目录名称
	* 相对路径：相对于当前路径的文件名或目录名称

![目录树观察](http://channingchen.github.io/images/2014-6-6-linux-directorytree.gif)
 